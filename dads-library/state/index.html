<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Dad’s Library — Browse States (A–Z)</title>

  <!-- ===== Rebrand Light (royal purple) ===== -->
  <style>
    :root{
      --bg:#f6f7fb; --panel:#ffffff; --line:#e6e8ef; --text:#1f2430; --muted:#6b7380;
      --gold:#d4af37; --purple:#5b3df5; --purple-ink:#3b2bd4;
    }
    html,body{margin:0;background:var(--bg);color:var(--text);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif}

    /* ===== Global Nav (brand v2, light) ===== */
    .dd-nav{position:sticky;top:0;z-index:1000;background:#fff;border-bottom:1px solid var(--line)}
    .dd-nav__row{max-width:1160px;margin:0 auto;padding:10px 12px;display:flex;align-items:center;justify-content:space-between;gap:12px}
    .dd-brand{display:flex;align-items:center;gap:10px;color:var(--purple-ink);font-weight:800;text-decoration:none}
    .dd-brand img{width:28px;height:28px}
    .dd-hamburger{display:none;background:transparent;border:1px solid var(--line);color:var(--text);padding:8px 10px;border-radius:10px}
    .dd-nav__hero{position:relative;max-width:1160px;margin:0 auto;padding:0 16px}
    .dd-nav__imgwrap{position:relative;height:92px;overflow:hidden;border-bottom:1px solid var(--line);border-top:1px solid var(--line)}
    .dd-nav__imgwrap::before{
      content:"";position:absolute;inset:0;
      background:url("/assets/Image/nav-banner-blank.PNG") center/cover no-repeat;
      background-color:#f3f4fa;filter:saturate(1.05) brightness(1.02);
    }
    .dd-nav__imgmask{position:absolute;inset:0;background:linear-gradient(90deg,rgba(255,255,255,.75),rgba(255,255,255,.35) 22%,rgba(255,255,255,.35) 78%,rgba(255,255,255,.75))}
    .dd-nav__links{position:absolute;inset:0;display:flex;align-items:center;justify-content:center;gap:18px;padding:0 12px}
    .dd-nav__links a{
      color:var(--purple-ink);text-decoration:none;font-weight:760;letter-spacing:.2px;font-size:1.02rem;
      padding:10px 12px;border-radius:10px;white-space:nowrap;transition:background .15s ease,color .15s ease,transform .05s ease;
    }
    .dd-nav__links a:hover{background:var(--purple);color:#fff}
    .dd-nav__links a:focus-visible{outline:2px solid var(--purple);outline-offset:2px}
    @media (max-width:760px){.dd-hamburger{display:block}.dd-nav__imgwrap{height:84px}.dd-nav__links{display:none}}
    .dd-drawer{display:none;border-top:1px solid var(--line);background:#fff}
    .dd-drawer a{display:block;padding:12px 16px;border-top:1px solid var(--line);color:var(--purple-ink);text-decoration:none;font-weight:700}
    .dd-drawer a:hover{background:#efeefe;color:#2016a8}

    /* ===== Page ===== */
    .wrap{max-width:980px;margin:0 auto;padding:28px 16px}
    h1{margin:0 0 10px;color:var(--purple-ink)}
    .muted{color:var(--muted)}

    .toolbar{display:flex;gap:10px;flex-wrap:wrap;align-items:center;margin:10px 0 14px}
    .search{
      flex:1 1 260px;background:#fff;border:1px solid var(--line);color:var(--text);
      border-radius:10px;padding:10px 12px;outline:none;
    }
    .letters{display:flex;gap:6px;flex-wrap:wrap}
    .letters button{
      background:#fff;color:var(--text);border:1px solid var(--line);
      padding:6px 8px;border-radius:8px;cursor:pointer;font-weight:700;
    }
    .letters button.active,.letters button:hover{border-color:var(--purple)}

    .state-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(170px,1fr));gap:10px}
    .state{
      display:flex;align-items:center;gap:8px;
      padding:10px 12px;border:1px solid var(--line);border-radius:10px;
      background:#fff;color:var(--text);text-decoration:none;
      transition:border-color .15s ease, box-shadow .15s ease;
      box-shadow:0 2px 10px rgba(27,30,45,.04);
    }
    .state:hover{border-color:var(--purple);box-shadow:0 0 0 1px var(--purple) inset}
    .state img{width:36px;height:36px;object-fit:contain;image-rendering:auto}
    .state span{font-weight:700}

    .panel{background:#fff;border:1px solid var(--line);border-radius:14px;padding:16px;margin:18px 0;box-shadow:0 2px 10px rgba(27,30,45,.04)}
    .embed{border:1px solid var(--line);border-radius:12px;overflow:hidden}
    .embed iframe{width:100%;height:560px;border:0;display:block}
    @media (max-width:720px){.embed iframe{height:640px}}
  </style>
</head>
<body>

  <!-- Global Navigation -->
  <nav class="dd-nav" role="navigation" aria-label="Primary">
    <div class="dd-nav__row">
      <a class="dd-brand" href="/">
        <img src="/assets/Image/defend-dad-logo-shield.png" alt="Defend Dad">
        <span>Defend Dad</span>
      </a>
      <button class="dd-hamburger" id="ddToggle" aria-expanded="false" aria-controls="ddDrawer">Menu</button>
    </div>
    <div class="dd-nav__hero">
      <div class="dd-nav__imgwrap">
        <div class="dd-nav__imgmask"></div>
        <div class="dd-nav__links">
          <a href="/">Home</a>
          <a href="/toolbox">Dad’s Toolbox</a>
          <a href="/dads-library">Dad’s Library</a>
          <a href="/progress">Progress</a>
          <a href="/transparency">Transparency</a>
          <a href="/storefront">Dad’s Storefront</a>
        </div>
      </div>
    </div>
    <div class="dd-drawer" id="ddDrawer">
      <a href="/">Home</a>
      <a href="/toolbox">Dad’s Toolbox</a>
      <a href="/dads-library">Dad’s Library</a>
      <a href="/progress">Progress</a>
      <a href="/transparency">Transparency</a>
      <a href="/storefront">Dad’s Storefront</a>
    </div>
  </nav>

  <div class="wrap">
    <h1>Dad’s Library — States A–Z</h1>
    <p class="muted">Tap your state to open plain-language links for custody, child support, forms, self-help, and more.</p>

    <!-- Search + A–Z -->
    <div class="toolbar">
      <input id="search" class="search" type="search" placeholder="Search states…" aria-label="Search states" />
      <div class="letters" id="letters"></div>
    </div>

    <!-- Grid -->
    <div class="state-grid" id="grid" aria-live="polite"></div>

    <!-- Basic donation tracker (rebrand) -->
    <div class="panel">
      <h2 style="margin:0 0 10px;color:var(--purple-ink)">Help Us Reach the Next Goal</h2>
      <div class="embed">
        <iframe src="/assets/tools/goals.html" title="Defend Dad Donation Tracker"></iframe>
      </div>
    </div>
  </div>

  <!-- Mobile nav toggle -->
  <script>
    (function(){
      const btn = document.getElementById('ddToggle');
      const drawer = document.getElementById('ddDrawer');
      if(!btn || !drawer) return;
      btn.addEventListener('click', ()=>{
        const open = drawer.style.display === 'block';
        drawer.style.display = open ? 'none' : 'block';
        btn.setAttribute('aria-expanded', (!open).toString());
      });
    })();
  </script>

  <!-- State list + grid renderer -->
  <script>
    const STATES = [
      "Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia",
      "Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland",
      "Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey",
      "New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina",
      "South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"
    ];
    const slug = s => s.toLowerCase().replace(/\s+/g,'-');

    const grid = document.getElementById('grid');
    function render(list){
      grid.innerHTML = list.map(name=>{
        const s = slug(name);
        const href = `/dads-library/state/?state=${s}`;
        const img = `/assets/Image/states/mini/${s}.png`;
        return `
          <a class="state" href="${href}" data-name="${name}">
            <img src="${img}" alt="${name} mini" onerror="this.style.display='none'"/>
            <span>${name}</span>
          </a>
        `;
      }).join('');
    }
    render(STATES);

    // A–Z buttons
    const lettersEl = document.getElementById('letters');
    const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
    lettersEl.innerHTML = `<button data-letter="*" class="active" title="All states">*</button>`
      + letters.map(L=>`<button data-letter="${L}">${L}</button>`).join('');
    lettersEl.addEventListener('click', e=>{
      if(e.target.tagName!=='BUTTON') return;
      [...lettersEl.querySelectorAll('button')].forEach(b=>b.classList.remove('active'));
      e.target.classList.add('active');
      const L = e.target.dataset.letter;
      const filtered = (L==='*') ? STATES : STATES.filter(n=>n.startsWith(L));
      render(filtered);
      search.value = '';
    });

    // Search
    const search = document.getElementById('search');
    search.addEventListener('input', ()=>{
      const q = search.value.trim().toLowerCase();
      const shown = STATES.filter(n => n.toLowerCase().includes(q));
      render(shown);
      [...lettersEl.querySelectorAll('button')].forEach(b=>b.classList.remove('active'));
    });

    // Optional deep-link to a letter (#C etc)
    if(location.hash && /^[#][A-Z]$/.test(location.hash)){
      const target = lettersEl.querySelector(`button[data-letter="${location.hash[1]}"]`);
      if(target) target.click();
    }
  </script>
</body>
</html>

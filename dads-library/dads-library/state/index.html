<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Dad’s Library — Browse States (A–Z)</title>
<style>
  :root{ --bg:#0e1117; --panel:#161b22; --line:#30363d; --text:#e6edf3; --muted:#9aa4b2; --gold:#d4af37; }
  *{ box-sizing:border-box }
  body{ margin:0; background:var(--bg); color:var(--text); font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,sans-serif }
  .wrap{ max-width:980px; margin:0 auto; padding:28px 16px }
  h1{ margin:0 0 10px; color:var(--gold) }
  .muted{ color:var(--muted) }

  .toolbar{ display:flex; gap:10px; flex-wrap:wrap; align-items:center; margin:10px 0 14px }
  .search{ flex:1 1 260px; background:var(--panel); border:1px solid var(--line); color:var(--text);
           border-radius:10px; padding:10px 12px; outline:none }
  .letters{ display:flex; gap:6px; flex-wrap:wrap }
  .letters button{
    background:var(--panel); color:var(--text); border:1px solid var(--line);
    padding:6px 8px; border-radius:8px; cursor:pointer; font-weight:700;
  }
  .letters button.active, .letters button:hover{ border-color:var(--gold) }

  .state-grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(170px,1fr)); gap:10px; }
  .state {
    display:flex; align-items:center; gap:8px;
    padding:10px 12px; border:1px solid var(--line); border-radius:10px;
    background:#131820; color:var(--text); text-decoration:none;
    transition:border-color .15s ease, box-shadow .15s ease;
  }
  .state:hover{ border-color:var(--gold); box-shadow:0 0 0 1px var(--gold) inset; }
  .state img { width:36px; height:36px; object-fit:contain; image-rendering:auto; }
  .state span { font-weight:700; }

  .hr{ height:1px; background:var(--line); border:0; margin:18px 0 }
  a.inline{ color:#86b7ff; text-decoration:none }
  a.inline:hover{ text-decoration:underline }
</style>
</head>
<body>
<div class="wrap">
  <h1>Dad’s Library — States A–Z</h1>
  <p class="muted">Tap your state to open plain-language links for custody, support, forms, and more.</p>

  <div class="toolbar">
    <input id="search" class="search" type="search" placeholder="Search states…" aria-label="Search states" />
    <div class="letters" id="letters"></div>
  </div>

  <div class="state-grid" id="grid" aria-live="polite"></div>

  <hr class="hr" />
  <p class="muted">Prefer regions? Go back to <a class="inline" href="/dads-library/">Dad’s Library</a>.</p>
</div>

<script>
/* --- Data --------------------------------------------------------------- */
const STATES = [
  "Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia",
  "Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland",
  "Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New Hampshire","New Jersey",
  "New Mexico","New York","North Carolina","North Dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode Island","South Carolina",
  "South Dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West Virginia","Wisconsin","Wyoming"
];

const slug = s => s.toLowerCase().replace(/\s+/g,'-');

/* --- Render grid -------------------------------------------------------- */
const grid = document.getElementById('grid');
function render(list){
  grid.innerHTML = list.map(name=>{
    const s = slug(name);
    const href = `/dads-library/state/?state=${s}`;
    const img = `/assets/Image/states/mini/${s}.png`;
    return `
      <a class="state" href="${href}" data-name="${name}">
        <img src="${img}" alt="${name} mini" onerror="this.style.display='none'"/>
        <span>${name}</span>
      </a>
    `;
  }).join('');
}
render(STATES);

/* --- A–Z filters -------------------------------------------------------- */
const lettersEl = document.getElementById('letters');
const letters = "ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");
lettersEl.innerHTML = `<button data-letter="*" class="active" title="All states">*</button>` +
  letters.map(L=>`<button data-letter="${L}">${L}</button>`).join('');

lettersEl.addEventListener('click', (e)=>{
  if(e.target.tagName!=='BUTTON') return;
  [...lettersEl.querySelectorAll('button')].forEach(b=>b.classList.remove('active'));
  e.target.classList.add('active');
  const L = e.target.dataset.letter;
  const filtered = (L==='*') ? STATES : STATES.filter(n=>n.startsWith(L));
  render(filtered);
  search.value = ''; // clear search when clicking a letter
});

/* --- Search ------------------------------------------------------------- */
const search = document.getElementById('search');
search.addEventListener('input', ()=>{
  const q = search.value.trim().toLowerCase();
  const shown = STATES.filter(n => n.toLowerCase().includes(q));
  render(shown);
  // reset letter highlight when searching
  [...lettersEl.querySelectorAll('button')].forEach(b=>b.classList.remove('active'));
});

/* --- Optional: deep-link to a letter via hash (#C, #T, …) -------------- */
if(location.hash && /^[#][A-Z]$/.test(location.hash)){
  const target = lettersEl.querySelector(`button[data-letter="${location.hash[1]}"]`);
  if(target){ target.click(); }
}
</script>
</body>
</html>
